<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>02 IoT技术 on</title><link>https://guowei1651.github.io/iot/02.technology/</link><description>Recent content in 02 IoT技术 on</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Sat, 22 Apr 2023 12:52:56 +0800</lastBuildDate><atom:link href="https://guowei1651.github.io/iot/02.technology/index.xml" rel="self" type="application/rss+xml"/><item><title>01 介绍</title><link>https://guowei1651.github.io/iot/02.technology/01-%E4%BB%8B%E7%BB%8D/</link><pubDate>Sat, 22 Apr 2023 12:52:56 +0800</pubDate><guid>https://guowei1651.github.io/iot/02.technology/01-%E4%BB%8B%E7%BB%8D/</guid><description/></item><item><title>02 IoT技术架构设计</title><link>https://guowei1651.github.io/iot/02.technology/02-iot%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/</link><pubDate>Sat, 22 Apr 2023 12:52:56 +0800</pubDate><guid>https://guowei1651.github.io/iot/02.technology/02-iot%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/</guid><description>背景 # 因作者在工作的前几年在做跟硬件相关的内容。所以，对于IoT技术进行了一些理解。在2018年的时候总结出来，并进行了一些通用型IoT项目的思考。在这里公开出来。
本文原先为PPT，这里将PPT内容粘贴出来并对其中内容进行一些简要的文字描述。PPT以五个部分为基础进行说明：技术方向，技术选型，架构设计，概要设计，环境准备。
技术方向 # Gartner分析结论 # 世界著名的IT咨询公司对于IoT的评价以及分析。Gartner对于IoT的前景还是比较看好的。
物联网产业四层价值链 # 物联网的技术体系主要包括四个层次：感知与控制层、网络层、平台服务层、应用服务层。物联网平台是物联网产业链的枢纽，向下接入分散的物联网传感层，汇集传感数据，向上面向应用服务提供商提供应用开发的基础性平台和面向底层网络的统一数据接口，支持具体的基于传感数据的物联网应用。 目前物联网平台可以部署在企业私有云和物联网厂商的公有云上。
感知与控制层： 通过从传感器、计量器等器件获取环境、资产或者运营状态信息，在进行适当的处理之后，通过传感器传输网关将数据传递出去；同时通过传感器接收网关接收控制指令信息，在本地传递给控制器件达到控制资产、设备及运营的目的。 在此层次中，感知及控制器件的管理，传输与接收网关，本地数据及信号处理是重要的技术领域。
通信网络层： 通过公网或者专网以无线或者有线的通讯方式将信息、数据与指令在感知控制层与平台及应用层之间传递。 主要由运营商提供的各种广域 IP 通信网络组成，包括 ATM、xDSL、光纤等有线网络，以及 GPRS、 3G、 4G、 NB-IoT 等移动通信网络。
平台服务层： 物联网平台是物联网网络架构和产业链条中的关键环节，通过它不仅实现对终端设备和资产的“管、控、营”一体化， 向下连接感知层， 向上面向应用服务提供商提供应用开发能力和统一接口。并为各行各业提供通用的服务能力，如数据路由、数据处理与挖掘、仿真与优化、 业务流程和应用整合、通信管理、 应用开发、设备维护服务等。
应用服务层： 丰富的应用是物联网的最终目标，未来基于政府、企业、消费者三类群体将衍生出多样化物联网应用，创造巨大社会价值。 根据企业业务需要,在平台服务层之上建立相关的物联网应用,例如: 城市交通情况的分析与预测；城市资产状态监控与分析；环境状态监控、分析与预警(例如：风力、雨量、滑坡)；健康状况监测与医疗方案建议等等。
技术前提 # 左图为开放组体系结构框架（TOGAF）中的架构开发方法（ADM）。参照这个方法做架构设计方法需要在设计之前做需求的了解。整体业务架构，业务方向等了解。
从业务架构与业务方向初步判断，右侧箭头中的：硬件设备，设备通信，IOT平台，业务场景。其中橙色部分为我们会涉及到的整体解决方案。设备通信部分借助通信运营商或者自建网络完成。
IOT技术选型 # 技术需求分析 # 因此物联网平台从底层到高层可分为四大平台类型：设备管理平台 DMP、 连接管理平台 CMP、应用使能平台 AEP、业务分析平台 BAP
DMP 平台对物联网终端进行远程监控、 设臵调整、 软件升级、 系统升级、 故障排查、 生命周期管理等功能。 同时可实时提供网关和应用状态监控告警反馈， 为预先处理故障提供支撑，提高客户服务满意度；开放的 API调用接口则能帮助客户轻松地进行系统集成和增值功能开发；所有设备的数据可以存储在云端。
CMP 平台一般应用于运营商网络上， 实现对物联网连接配臵和故障管理、 保证终端联网通道稳定、 网络资源用量管理、 连接资费管理、账单管理、 套餐变更、 号码/IP 地址/Mac 资源管理， 更好的帮助移动运营商做好物联网 SIM 的管理，运营商客户还可以自主进行 SIM 卡管控，自主查看账单。</description></item><item><title>03 IoT技术架构设计 01 IoT云平台通信协议设计</title><link>https://guowei1651.github.io/iot/02.technology/02-iot%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1--01-iot%E4%BA%91%E5%B9%B3%E5%8F%B0%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE%E8%AE%BE%E8%AE%A1/</link><pubDate>Sat, 22 Apr 2023 12:52:56 +0800</pubDate><guid>https://guowei1651.github.io/iot/02.technology/02-iot%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1--01-iot%E4%BA%91%E5%B9%B3%E5%8F%B0%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE%E8%AE%BE%E8%AE%A1/</guid><description>名词解释 # 名词 英文 说明 设备管理云服务 Service 本文档中定义的服务端 平台即服务 PAAS 将软件研发的平台（计世资讯定义为业务基础平台）作为一种服务，以SaaS的模式提交给用户。因此，PaaS也是SaaS模式的一种应用。但是，PaaS的出现可以加快SaaS的发展，尤其是加快SaaS应用的开发速度。在2007年国内外SaaS厂商先后推出自己的PAAS平台。 设备 Device 本文档中定义的设备端 负载均衡 LB 负载均衡建立在现有网络结构之上，它提供了一种廉价有效透明的方法扩展网络设备和服务器的带宽、增加吞吐量、加强网络数据处理能力、提高网络的灵活性和可用性。
负载均衡（Load Balance）其意思就是分摊到多个操作单元上进行执行，例如Web服务器、FTP服务器、企业关键应用服务器和其它关键任务服务器等，从而共同完成工作任务。 基于位置的服务 LBS 基于位置的服务，它是通过电信移动运营商的无线电通讯网络（如GSM网、CDMA网）或外部定位方式(如GPS)获取移动终端用户的位置信息（地理坐标，或大地坐标），在地理信息系统（外语缩写：GIS、外语全称：Geographic Information System）平台的支持下，为用户提供相应服务的一种增值业务。 消息队列遥测传输协议 MQTT MQTT（Message Queuing Telemetry Transport，消息队列遥测传输协议），是一种基于发布/订阅（publish/subscribe）模式的“轻量级”通讯协议，该协议构建于TCP/IP协议上，由IBM在1999年发布。MQTT最大优点在于，可以以极少的代码和有限的带宽，为连接远程设备提供实时可靠的消息服务。作为一种低开销、低带宽占用的即时通讯协议，使其在物联网、小型设备、移动应用等方面有较广泛的应用。MQTT是一个基于客户端-服务器的消息发布/订阅传输协议。MQTT协议是轻量、简单、开放和易于实现的，这些特点使它适用范围非常广泛。在很多情况下，包括受限的环境中，如：机器与机器（M2M）通信和物联网（IoT）。其在，通过卫星链路通信传感器、偶尔拨号的医疗设备、智能家居、及一些小型化设备中已广泛使用。 边缘计算 Edge Computing 边缘计算是指在靠近物或数据源头的一侧，采用网络、计算、存储、应用核心能力为一体的开放平台，就近提供最近端服务。其应用程序在边缘侧发起，产生更快的网络服务响应，满足行业在实时业务、应用智能、安全与隐私保护等方面的基本需求。边缘计算处于物理实体和工业连接之间，或处于物理实体的顶端。而云端计算，仍然可以访问边缘计算的历史数据。 信令 Signaling 通信系统中的控制指令，又称“信令”。它可以指导终端、交换系统及传输系统协同运行，在指定的终端之间建立临时的通信信道，并维护网络本身正常运行。信令系统是通信网的重要组成部分，是通信网的神经系统 。 除了通信时的用户信息（包括话音信息和非话业务信息）以外的控制交换机动作的信号，就是信令信息。 一、概述 # 1. 背景 # 在IoT行业中整体解决方案包括很多方向。不同业务的公司提供不同方向的解决方案。现阶段公司提供的解决方案方向为标准化、定制化硬件内容。故为了提高公司在行业内的竞争力，需要可以为客户提供一体化的解决方案建设设备管理系统。方便以后客户进行设备管理的工作。
解决了客户的基本需求之后，为了提高公司以及IoT行业的整体运营水平。可以为IoT行业提供通用的设备管理平台，并在设备管理平台的基础上构建特定业务的能力。为IoT业界建立底层的基础设施，并帮助企业进入IoT快速发展阶段。
作为一个开放的IoT平台，需要可以帮助第三方设备的接入能力。为第三方设备提供管理，业务支撑的功能。所以，需要将IoT云平台的协议部分定义完成并提供给第三方。
2. 目标 # 为设备管理平台提供统一的对接协议，并制定协议设计中的规则。以方便开发人员、测试人员、第三方厂商进行相关的实现工作。
3. 读者范围 # 研发人员，测试人员。
二、概要设计 # IoT协议是云平台上管理设备的基础部分。在IoT平台上负责设备端与云服务端的通信，并可以通过协议进行设备的认证，鉴权，控制等等功能。 上图中箭头指向的内容即是本协议使用的地方。具体协议使用地方为：
设备与边缘计算之间； 设备与LBS服务器之间； 边缘计算与LBS服务器之间； 设备与LBS服务器间。 IoT平台协议会涉及到多个方面的内容。其中包括：协议需要处理的业务、协议的流程、协议支持的负载均衡方式、协议通信周期、协议体规范、协议的异常处理、协议的安全性等。以下具体说明这里的项的具体内容。
1. 设备状态机 # 设备端与服务端的状态有完整的机制去保证。具体状态机为： 状态机说明设备的状态以及状态切换规则，便于之后在服务端进行展示。设备状态切换如图上所示，图中箭头说明状态切换的方向。单向箭头说明只能切换到箭头指向的状态，不能切换回来。双向箭头都是在两个状态之间切换。
这里的升级态没有区分版本下载和升级版本这两个阶段，所以在升级过程中是不允许接收命令的操作。升级和命令指令操作是排他关系。</description></item></channel></rss>